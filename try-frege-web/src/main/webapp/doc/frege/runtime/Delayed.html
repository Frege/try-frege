<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Nov 18 01:56:51 CET 2013 -->
<title>Delayed</title>
<meta name="date" content="2013-11-18">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Delayed";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../frege/runtime/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../frege/runtime/Concurrent.html" title="class in frege.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../frege/runtime/Delayed.Value.html" title="class in frege.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?frege/runtime/Delayed.html" target="_top">Frames</a></li>
<li><a href="Delayed.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">frege.runtime</div>
<h2 title="Class Delayed" class="title">Class Delayed</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>frege.runtime.Delayed</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../frege/runtime/Applicable.html" title="interface in frege.runtime">Applicable</a>, <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime">Lazy</a>, java.util.concurrent.Callable&lt;java.lang.Object&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../frege/runtime/Delayed.Value.html" title="class in frege.runtime">Delayed.Value</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Delayed</span>
extends java.lang.Object
implements <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime">Lazy</a>, <a href="../../frege/runtime/Applicable.html" title="interface in frege.runtime">Applicable</a></pre>
<div class="block"><p> Base class for lazy values.</p>

 <p> Functions will create instances of subclasses of <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a> once
 all arguments got applied. Note that all other classes implementing <code>lazy</code>
 are pseudo-lazy, where the <a href="../../frege/runtime/Lazy.html#call()"><code>Lazy.call()</code></a> method is the identity. This
 is to avoid needless wrappings and conversions. </p> 

 <p> Lazy values differ from proper values insofar as they need to know
 how to exactly evaluate themselves.
 This is the job of the <a href="../../frege/runtime/Delayed.html#call()"><code>call()</code></a> and <a href="../../frege/runtime/Delayed.html#eval()"><code>eval()</code></a> functions. </p>

 <p> The functionality of <a href="../../frege/runtime/Delayed.html#call()"><code>call()</code></a> is fixed through <tt>final</tt>
 and cannot be changed. It is in some sense the heart of the runtime, as it provides
 support for tail calls and lazy evaluation. </p>
 
 <p><a href="../../frege/runtime/Delayed.html#call()"><code>call()</code></a> repeatedly invokes <a href="../../frege/runtime/Delayed.html#eval()"><code>eval()</code></a> until the value is 
 in <i>weak head normal form</i>, which is signalled by not being an instance of <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a>.
 In addition, the result is shared through 
 caching it in a private instance variable. Hence, instances of
 <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a> are not immutable and this in turn requires synchronization.</p>

 <p> The caching of the evaluated value would not be strictly necessary, as
 repeated evaluation must always yield the same result. Experience shows,
 however, that re-evaluations are quite common, hence not caching the result
 would most likely cause even the simplest program to perform unacceptably bad.
 </p>

 <p> The real work, then, is done by <a href="../../frege/runtime/Delayed.html#eval()"><code>eval()</code></a>. It may return a proper value or
 another lazy value, though it is required that the latter is somehow closer
 to the final result, so that evaluation of that value gets even closer
 and repeated evaluation of the indermediate lazy values
 eventually reaches the result. </p>

 <h3> Introduction of lazyness in frege compiled code </h3>

 <p>This version of the frege runtime can support a mostly eager execution
 where all functions are strict in all arguments by default 
 and data constructors are strict in all arguments that are not recursive.</p>
 
 <p> Delayed values are introduced at only 2 occasions: </p>

 <ol>
 <li>
 <p>  Delayed arguments of data constructors or functions. Take the following example: </p>
 <pre><code>
 -- the list of fibonacci numbers
 fibs = 0:1:zipWith (+) fibs (tail fibs)
 </code></pre>

 <p> The second argument of (:) is lazy because its type is recursive. 
 Types of constructor arguments are said to be recursive, if they mention a type 
 that depends on the type of the constructed value.
 A type depends on itself and on types that mention it in at least one constructor argument. 
 </p>

 <p>Hence, the application of <tt>zipWith</tt> argument may appear in code like this:</p>
 <pre><code>
 new Delayed() {
     final public TList eval() {
                return zipWith(plusFunc, fibs, tail(fibs));
     }
 }
 </code></pre>
 </li>
 <li>
 <p> Non-recursive tail calls. </p>
 <p> If the return value of a function is expressed as a function call,
 we call this a <em>tail call</em>. If a function tail-calls itself, this is
 <em>tail recursion</em>. Here are examples: </p>
 <pre>
 <code>
 even 0 = true
 even n = odd  (n-1)
 odd  0 = false
 odd  n = even (n-1)
 factorial n | n &gt;= 0 = helper 1 n where
    helper r 0 = r
    helper r n = helper (r*n) (n-1)
 </code>
 </pre>
 <p> Function "helper" is tail recursive and will be compiled to a while loop.
 Functions "factorial", "even" and "odd", however, employ tail calls.
 In "factorial", this is not a problem, it just sets up parameters for the
 very efficient "helper" function, thus we can expect a maximum stack depth of 2
 no matter what the value of "n" is.</p>
 <p> Things are different with "even" and "odd" that would need stack space
 proportional to the value of their argument if implemented naively.
 But frege functions may simply return their tail call in the form of
 a <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a> object instead of actually evaluating it themselves. This way, a long
 series of tail calls can be converted to a while loop, see <a href="../../frege/runtime/Delayed.html#call()"><code>call()</code></a>. </p>
 <p>Unfortunately, this does not work in every case. Take the even/odd exmple in a slightly
 changed form:</p>
 <pre>
 even 0 = true
 even 1 = false
 even n = odd  (n-1)
 odd  n = !(even n)
 </pre>
 This will very soon run out of stack space with greater n. To see why, imagine <tt>even 5</tt>
 had to be evaluated.
 <pre>
 even 5 = odd 4               by 3rd rule of even
 odd 4 = !(even 4)            by definition of odd
 !(even 4) = !(odd 3)         by 3rd rule of even
 !(odd 3)  = !(!(even 3))
 !(!(even 3)) = !(!(odd 2))
 !(!(odd 2))  = !(!(!(even 2)))
 !(!(!(even 2))) = !(!(!(odd 1)))
 !(!(!(odd 1))) = !(!(!(!(even 0))))
 !(!(!(!(even 0)))) = !(!(!(!true)))
 </pre>
 <p>
 Because ! must first know the value to negate it must evaluate its argument
 before it returns. Hence, evaluation of (odd n) results in n nested negations, i.e. in
 a stack depth of n.
 </p>
 <p>This effect happens always when the recursion is done indirectly in an
 argument of a strict function. Another well-known case is the naive implementation
 of a function that tells a lists's length:</p>
 <pre>
 naiveLength [] = 0
 naiveLength (_:as) = 1 + naiveLength as
 </pre>
 <p>Here, the recursion takes place in the 2nd argument of the addition.
 To add 1 to something, one must first know to what, hence the
 whole list must be consulted before even the first addition 
 can take place.</p>
 <p>Compare the better implementation:</p>
 <pre>
 length xs = helper xs 0
    where
       helper []     !count = count
       helper (_:as) !count = helper as (count+1)
 </pre>
 Here, only tail call recursion takes place and because counter is strict, the increment
 will be evaluated in each loop.
 </li>
 </ol></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.Value.html" title="class in frege.runtime">Delayed.Value</a></strong></code>
<div class="block">Delayed container that holds a value.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#item">item</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../frege/runtime/Delayed.html#Delayed()">Delayed</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../frege/runtime/Applicable.html" title="interface in frege.runtime">Applicable</a></code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#apply(java.lang.Object)">apply</a></strong>(java.lang.Object&nbsp;arg)</code>
<div class="block">A shorthand for <code>((Applicable) x.call()).apply(arg)</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#call()">call</a></strong>()</code>
<div class="block"> Compute and cache the value by repeatedly invoking <code>Lazy#eval</code>, 
 or return previously cached result.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime">Lazy</a></code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#delayed(java.lang.Object)">delayed</a></strong>(java.lang.Object&nbsp;val)</code>
<div class="block">Make sure we have a <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#eval()">eval</a></strong>()</code>
<div class="block">Perform a single step in the evaluation of the result.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#forced()">forced</a></strong>()</code>
<div class="block">Evaluate this lazy value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static &lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#forced(java.lang.Object)">forced</a></strong>(java.lang.Object&nbsp;o)</code>
<div class="block">Evaluate an object if it is a lazy value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#isSuperOf(java.lang.Object)">isSuperOf</a></strong>(java.lang.Object&nbsp;o)</code>
<div class="block">Tell if an object is an instance of <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../frege/runtime/Delayed.html" title="class in frege.runtime">Delayed</a></code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Delayed.html#result()">result</a></strong>()</code>
<div class="block">Get the <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> result of applications.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="item">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>item</h4>
<pre>private volatile&nbsp;java.lang.Object item</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Delayed()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Delayed</h4>
<pre>public&nbsp;Delayed()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="call()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>call</h4>
<pre>public final&nbsp;java.lang.Object&nbsp;call()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../frege/runtime/Lazy.html#call()">Lazy</a></code></strong></div>
<div class="block"><p> Compute and cache the value by repeatedly invoking <code>Lazy#eval</code>, 
 or return previously cached result. </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../frege/runtime/Lazy.html#call()">call</a></code>&nbsp;in interface&nbsp;<code><a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime">Lazy</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code>call</code>&nbsp;in interface&nbsp;<code>java.util.concurrent.Callable&lt;java.lang.Object&gt;</code></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>Callable.call()</code></dd></dl>
</li>
</ul>
<a name="apply(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre>public&nbsp;<a href="../../frege/runtime/Applicable.html" title="interface in frege.runtime">Applicable</a>&nbsp;apply(java.lang.Object&nbsp;arg)</pre>
<div class="block">A shorthand for <code>((Applicable) x.call()).apply(arg)</code></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../frege/runtime/Applicable.html#apply(java.lang.Object)">apply</a></code>&nbsp;in interface&nbsp;<code><a href="../../frege/runtime/Applicable.html" title="interface in frege.runtime">Applicable</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>arg</code> - the argument</dd>
<dt><span class="strong">Returns:</span></dt><dd>the result of applying the evaluated value to the argument</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassCastException</code> - unless this lazy value evaluates to a <a href="../../frege/runtime/Lambda.html" title="class in frege.runtime"><code>Lambda</code></a></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../frege/runtime/Applicable.html#apply(java.lang.Object)"><code>Applicable.apply(java.lang.Object)</code></a></dd></dl>
</li>
</ul>
<a name="result()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>result</h4>
<pre>public&nbsp;<a href="../../frege/runtime/Delayed.html" title="class in frege.runtime">Delayed</a>&nbsp;result()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../frege/runtime/Applicable.html#result()">Applicable</a></code></strong></div>
<div class="block"><p>Get the <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> result of applications.</p>
 <p>When the last argument has been applied, 
  the result is a <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> object, which can be obtained
  through this method.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../frege/runtime/Applicable.html#result()">result</a></code>&nbsp;in interface&nbsp;<code><a href="../../frege/runtime/Applicable.html" title="interface in frege.runtime">Applicable</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> value</dd></dl>
</li>
</ul>
<a name="eval()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eval</h4>
<pre>public abstract&nbsp;java.lang.Object&nbsp;eval()</pre>
<div class="block">Perform a single step in the evaluation of the result.</div>
</li>
</ul>
<a name="isSuperOf(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSuperOf</h4>
<pre>public static final&nbsp;boolean&nbsp;isSuperOf(java.lang.Object&nbsp;o)</pre>
<div class="block"><p>Tell if an object is an instance of <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a>.</p>
 
 <p>This is used in generated code to avoid the <code>x instanceof Lazy</code> syntax.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd><b>true</b>, if and only if, the argument is an instance of <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a></dd></dl>
</li>
</ul>
<a name="forced(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forced</h4>
<pre>public static final&nbsp;&lt;R&gt;&nbsp;R&nbsp;forced(java.lang.Object&nbsp;o)</pre>
<div class="block"><p>Evaluate an object if it is a lazy value.</p>
 <p>
 This method is intended for use in generated code, as the compiler
 hopefully never errs about the expected type.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - the object in question</dd>
<dt><span class="strong">Returns:</span></dt><dd>the evaluated value if the argument is a <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> instance, 
         otherwise the argument itself.  
         The result is conveniently casted to the expected return type <code>R</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.ClassCastException</code> - if the argument is not an instance of <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> 
         and cannot be casted to <code>R</code></dd>
<dd><code>java.lang.ClassCastException</code> - if the argument is an instance of <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> and the
         delivered value cannot be casted to <code>R</code></dd></dl>
</li>
</ul>
<a name="forced()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forced</h4>
<pre>public final&nbsp;&lt;R&gt;&nbsp;R&nbsp;forced()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../frege/runtime/Lazy.html#forced()">Lazy</a></code></strong></div>
<div class="block"><p>Evaluate this lazy value.</p>
 <p>
 This method is intended for use in generated code, as the compiler
 hopefully never errs about the expected type.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../frege/runtime/Lazy.html#forced()">forced</a></code>&nbsp;in interface&nbsp;<code><a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime">Lazy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the evaluated value conveniently casted to the expected return type <code>R</code>.</dd></dl>
</li>
</ul>
<a name="delayed(java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delayed</h4>
<pre>public static final&nbsp;<a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime">Lazy</a>&nbsp;delayed(java.lang.Object&nbsp;val)</pre>
<div class="block">Make sure we have a <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> value.
 
 <p>This is, in a sense, the exact opposite of <code>Delayed.forced</code>. 
 Whereas the latter evaluates a <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a>, unless already evaluated,
 this method constructs a <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a> value unless it is already a <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a> 
 one.</p>
 
 <p>Because all <a href="../../frege/runtime/Algebraic.html" title="class in frege.runtime"><code>Algebraic</code></a> and <a href="../../frege/runtime/Lambda.html" title="class in frege.runtime"><code>Lambda</code></a> implement <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a>, 
 this will create a wrapper for native values only.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>If the argument is already <a href="../../frege/runtime/Lazy.html" title="interface in frege.runtime"><code>Lazy</code></a>, it is returned properly casted.
           Otherwise it is wrapped in a <a href="../../frege/runtime/Delayed.Value.html" title="class in frege.runtime"><code>Delayed.Value</code></a> and returned.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../frege/runtime/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../frege/runtime/Concurrent.html" title="class in frege.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../frege/runtime/Delayed.Value.html" title="class in frege.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?frege/runtime/Delayed.html" target="_top">Frames</a></li>
<li><a href="Delayed.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
