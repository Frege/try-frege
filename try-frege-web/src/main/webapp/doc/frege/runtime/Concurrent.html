<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Nov 18 01:56:51 CET 2013 -->
<title>Concurrent</title>
<meta name="date" content="2013-11-18">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Concurrent";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../frege/runtime/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../frege/runtime/CompilerSupport.html" title="class in frege.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?frege/runtime/Concurrent.html" target="_top">Frames</a></li>
<li><a href="Concurrent.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">frege.runtime</div>
<h2 title="Class Concurrent" class="title">Class Concurrent</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>frege.runtime.Concurrent</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Concurrent</span>
extends java.lang.Object</pre>
<div class="block">Support for cpncurrency and parallelism.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.concurrent.ForkJoinPool</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Concurrent.html#fjpool">fjpool</a></strong></code>
<div class="block">The fork/join pool for ad hoc parallelism used by Frege runtime system..</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../frege/runtime/Concurrent.html#Concurrent()">Concurrent</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Concurrent.html#fork(frege.runtime.Lambda)">fork</a></strong>(<a href="../../frege/runtime/Lambda.html" title="class in frege.runtime">Lambda</a>&nbsp;val)</code>
<div class="block">Evaluate <code>e</code> in <code>const e</code> in parallel.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Concurrent.html#notifyAll(java.lang.Object)">notifyAll</a></strong>(java.lang.Object&nbsp;it)</code>
<div class="block">Notify all threads that are waiting on the object</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Concurrent.html#notifyOne(java.lang.Object)">notifyOne</a></strong>(java.lang.Object&nbsp;it)</code>
<div class="block">Notify exactly one thread that is waiting on the object</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.concurrent.ForkJoinPool</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Concurrent.html#setFregeForkJoinPool(java.util.concurrent.ForkJoinPool)">setFregeForkJoinPool</a></strong>(java.util.concurrent.ForkJoinPool&nbsp;pool)</code>
<div class="block">Set the <code>ForkJoinPool</code> that should be used by the
 Frege runtime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../frege/runtime/Concurrent.html#waitFor(java.lang.Object)">waitFor</a></strong>(java.lang.Object&nbsp;it)</code>
<div class="block">Monitor wait on a given object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="fjpool">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>fjpool</h4>
<pre>private static&nbsp;java.util.concurrent.ForkJoinPool fjpool</pre>
<div class="block">The fork/join pool for ad hoc parallelism used by Frege runtime system..</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>fork(), setFregeForkJoindPool()</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Concurrent()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Concurrent</h4>
<pre>public&nbsp;Concurrent()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setFregeForkJoinPool(java.util.concurrent.ForkJoinPool)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFregeForkJoinPool</h4>
<pre>public static&nbsp;java.util.concurrent.ForkJoinPool&nbsp;setFregeForkJoinPool(java.util.concurrent.ForkJoinPool&nbsp;pool)</pre>
<div class="block"><p>Set the <code>ForkJoinPool</code> that should be used by the
 Frege runtime.</p>
 
 If the fork/join pool of the Frege runtime is not yet set, 
 it will be initialized with the argument. If, however, Frege's
 fork/join pool is already in use, it will not be given up.
 
 This should be used by external code that maintains its own fork/join pool
 <b>before</b> calling into Frege code
 to prevent creation of another fork/join pool by the Frege runtime.
 
 Note that it is not necessary to do this when Frege code is called from code 
 that itself runs in a fork/join pool. But, in any case, it does no harm.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pool</code> - - a fork/join pool to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>The fork/join pool the Frege runtime will actually use.</dd></dl>
</li>
</ul>
<a name="fork(frege.runtime.Lambda)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fork</h4>
<pre>public static final&nbsp;boolean&nbsp;fork(<a href="../../frege/runtime/Lambda.html" title="class in frege.runtime">Lambda</a>&nbsp;val)</pre>
<div class="block"><p>Evaluate <code>e</code> in <code>const e</code> in parallel. 
  This is a helper function for the `par` operator.</p>
  
  <p>Applies some value to the argument (which must be a <a href="../../frege/runtime/Lambda.html" title="class in frege.runtime"><code>Lambda</code></a> that ignores
  that argument), to abtain a  <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a> value.</p>
  
  <p>It then checks if we run in a <code>ForkJoinPool</code>.
  If this is so, it <code>ForkJoinTask.fork()</code>s, causing the 
  delayed value to be evaluated asynchronously.</p>
  
  <p>If we're not running in a <code>ForkJoinPool</code>, 
  it checks if the pool 
  of the Frege runtime is already initialized. 
  If this is not the case, a new <code>ForkJoinPool</code> 
  will be created.</p>
  
  <p>Finally, the delayed value will be submitted to the fork/join pool 
  for asynchronous execution.</p>
  
  <p>A <a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><code>Delayed</code></a> has the property that it prevents itself from being evaluated
  more than once. It also blocks threads that attempt parallel execution. 
  Once evaluated, it remembers the result and subsequent invokactions of 
  <a href="../../frege/runtime/Delayed.html#call()"><code>Delayed.call()</code></a> get the evaluated value immediatedly.</p>
  
  <p>The success of parallel evaluation therefore depends on the time between 
  construction of the delayed expression and the time 
  when the value will actually be used. Ideally, it takes some CPU ressources to 
  evaluate a parallel computation, and it so happens that the value is only needed
  after it has been evaluated, to avoid wait time in the main thread.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>val</code> - a <a href="../../frege/runtime/Lambda.html" title="class in frege.runtime"><code>Lambda</code></a> value to be evaluated in a fork/join context</dd>
<dt><span class="strong">Returns:</span></dt><dd>true</dd></dl>
</li>
</ul>
<a name="waitFor(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitFor</h4>
<pre>public static final&nbsp;void&nbsp;waitFor(java.lang.Object&nbsp;it)
                          throws java.lang.InterruptedException</pre>
<div class="block"><p>Monitor wait on a given object.</p>
 <p>Because <code>Object.wait(long)</code> must be run in a synchronized block,
 we cannot just introduce it as a native function in Frege.</p>
 <p>Basically, Frege does not know soemthing like object identity.
 It is, however, guaranteed that, in the presence of a top level definition like:</p>
 <pre>
 object = "object to wait on"
 </pre>
 <p>the name <code>object</code> will always refer to the same string object.</p>
 
 <p>
 It is possible, that two top level values that evaluate to the same string value:</p>
 <pre>
 obj1 = "object"
 obj2 = "object"
 </pre>
 <p>could also be the same object at runtime, hence use different string constants if
 you want guaranteed different objects.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>it</code> - - some object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="notifyOne(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyOne</h4>
<pre>public static final&nbsp;void&nbsp;notifyOne(java.lang.Object&nbsp;it)</pre>
<div class="block"><p>Notify exactly one thread that is waiting on the object</p>
 
 <p>Because <code>Object.notify()</code> must be run in a synchronized block,
 we cannot just introduce this as native function in Frege.</p>
 
 <p>See the discussion for  <a href="../../frege/runtime/Concurrent.html#waitFor(java.lang.Object)"><code>waitFor(Object)</code></a></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>it</code> - - some object</dd></dl>
</li>
</ul>
<a name="notifyAll(java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notifyAll</h4>
<pre>public static final&nbsp;void&nbsp;notifyAll(java.lang.Object&nbsp;it)</pre>
<div class="block"><p>Notify all threads that are waiting on the object</p>
 
 <p>Because <code>Object.notifyAll()</code> must be run in a synchronized block,
 we cannot just introduce this as native function in Frege.</p>
 
 <p>See the discussion for  <a href="../../frege/runtime/Concurrent.html#waitFor(java.lang.Object)"><code>waitFor(Object)</code></a></p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>it</code> - - some object</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../frege/runtime/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../frege/runtime/CompilerSupport.html" title="class in frege.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../frege/runtime/Delayed.html" title="class in frege.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?frege/runtime/Concurrent.html" target="_top">Frames</a></li>
<li><a href="Concurrent.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
